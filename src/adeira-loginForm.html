<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">

<dom-module id="adeira-loginForm">
	<template>
		<style>
		</style>

		<form is="iron-form" method="post" action="/graphql" on-iron-form-response="responseHandler">
			<paper-input label="Username" required auto-validate error-message="Please enter your username."></paper-input>
			<paper-input label="Secure Password" type="password" required auto-validate error-message="Please enter your username password."></paper-input>
			<paper-button raised onclick="_submit(event)">Submit</paper-button>
		</form>

	</template>

	<script>
		Polymer({
			is: 'adeira-loginForm',
			responseHandler: function(event) {
				console.log(event.detail.response);
			}
		});

		function _submit() {
			let form = Polymer.dom(event).localTarget.parentElement;
			if (form.validate()) {
				console.log(form.serialize());
//				form.submit();
			}
		}
	</script>
</dom-module>
